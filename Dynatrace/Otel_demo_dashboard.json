{"version":20,"variables":[],"tiles":{"0":{"title":"OpenPipeline Records Ingestion","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(dt.sfm.openpipeline.ingest_sources_in.records), value.A = avg(dt.sfm.openpipeline.ingest_sources_in.records, scalar: true) }, by: { dt.openpipeline.source, configuration, metric.key, dt.system.bucket }","visualization":"lineChart","visualizationSettings":{"autoSelectVisualization":true},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"16.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"dt.sfm.openpipeline.ingest_sources_in.records","aggregation":"sum"},"by":["dt.openpipeline.source","configuration","metric.key","dt.system.bucket"]}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"1":{"title":"Service Request Volume","description":"Average latency (by service)","type":"data","query":"timeseries {\n  failed = sum(dt.service.request.count, filter:{failed == true}, default:0),\n  total  = sum(dt.service.request.count, default:0)\n},\nby:{dt.entity.service},\nunion:true\n","visualization":"lineChart","visualizationSettings":{"chartSettings":{"colorPalette":"apdex"},"autoSelectVisualization":true},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"2":{"title":"CPU Performance Metrics by Cluster and Service Scope","type":"data","query":"timeseries \n{\n  cpu_utilization_percent = avg(system.cpu.utilization)\n},\nby: {\n  cluster_name,\n  service_name,\n  otel_scope_name,\n  otel_scope_version,\n  metrics_source,\n  cpu_id,\n  state\n}\n","visualization":"table","visualizationSettings":{"autoSelectVisualization":false,"table":{"columnTypeOverrides":[{"fields":["cpu_utilization_percent"],"value":"sparkline","id":1760019840188}],"hiddenColumns":[["otel_scope_name"],["otel_scope_version"],["metrics_source"],["service_name"],["cpu_id"],["cluster_name"]],"hideColumnsForLargeResults":false,"columnWidths":{"[\"cpu_id\"]":55}}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"timeframe":{"tileTimeframeEnabled":true,"tileTimeframe":{"from":"now()-2h","to":"now()"}}},"3":{"title":"Average Span Duration by Source and Status","type":"data","query":"fetch spans, from: @d, samplingRatio: 1, scanLimitGBytes: 500\n\n| filter isFalseOrNull(request.is_failed) \n| limit 1000\n\n| fieldsAdd span.source = if(\n      (isNotNull(dt.agent.module.id) \n       OR matchesValue(telemetry.exporter.name, \"odin\") \n       OR matchesValue(telemetry.sdk.name, \"oneagent\") \n       OR matchesValue(dt.openpipeline.source, \"oneagent\")), \n      \"OneAgent\", \n      else: \"OpenTelemetry\"\n  )\n\n| fieldsAdd span.status_code = if(\n      (span.status_code == \"error\" OR span.is_exit_by_exception), \n      \"Error\", \n      else: \"Ok\"\n  )\n\n| fieldsAdd k8s.workload.name = coalesce(k8s.workload.name, dt.kubernetes.workload.name)\n\n| fields\n    dt.entity.process_group,\n    dt.entity.service,\n    duration,\n    k8s.namespace.name,\n    dt.entity.cloud_application_namespace,\n    k8s.workload.name,\n    dt.entity.cloud_application,\n    span.kind,\n    span.name,\n    span.source,\n    span.status_code,\n    start_time,\n    dt.agent.module.id,\n    span.id,\n    trace.id,\n    dt.system.sampling_ratio\n\n| fieldsAdd \n    dt.entity.process_group.entity.name = entityAttr(dt.entity.process_group, \"entity.name\"), \n    dt.entity.service.entity.name = entityAttr(dt.entity.service, \"entity.name\")\n","visualization":"areaChart","visualizationSettings":{"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"segments":{"tileSegments":[],"tileSegmentsEnabled":true}},"4":{"title":"Error Span Analysis","type":"data","query":"fetch spans, from: -12h, samplingRatio: 1, scanLimitGBytes: 500\n\n| filter (span.status_code == \"error\" OR span.is_exit_by_exception)\n| limit 1000\n\n| fieldsAdd span.source = if(\n      isNotNull(dt.agent.module.id) \n      OR matchesValue(telemetry.exporter.name, \"odin\") \n      OR matchesValue(telemetry.sdk.name, \"oneagent\") \n      OR matchesValue(dt.openpipeline.source, \"oneagent\"), \n      \"OneAgent\", \n      else: \"OpenTelemetry\"\n  )\n\n| fieldsAdd span.status_code = if(\n      span.status_code == \"error\" OR span.is_exit_by_exception, \n      \"Error\", \n      else: \"Ok\"\n  )\n\n| fieldsAdd k8s.workload.name = coalesce(k8s.workload.name, dt.kubernetes.workload.name)\n\n| fields\n    dt.entity.process_group,\n    dt.entity.service,\n    dt.entity.process_group.entity.name,\n    dt.entity.service.entity.name,\n    duration,\n    k8s.namespace.name,\n    dt.entity.cloud_application_namespace,\n    k8s.workload.name,\n    dt.entity.cloud_application,\n    span.kind,\n    span.name,\n    span.source,\n    span.status_code,\n    start_time,\n    dt.agent.module.id,\n    span.id,\n    trace.id,\n    dt.system.sampling_ratio\n","visualization":"table","visualizationSettings":{"autoSelectVisualization":false,"table":{"hiddenColumns":[["dt.entity.process_group.entity.name"],["dt.entity.service.entity.name"],["k8s.namespace.name"],["dt.entity.cloud_application_namespace"],["dt.entity.cloud_application"],["k8s.workload.name"],["dt.entity.process_group"],["dt.entity.service"]],"hideColumnsForLargeResults":false}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"segments":{"tileSegments":[],"tileSegmentsEnabled":true}},"6":{"type":"data","title":"Average Process Memory Usage","query":"timeseries {\n  proc_mem_pct = avg(process.memory.usage, scalar: true),\n  proc_mem_trend = avg(process.memory.usage)\n}\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"autoSelectVisualization":false,"singleValue":{"mode":"custom","labelMode":"custom","recordField":"interval"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"singleValue","timeframe":{"tileTimeframeEnabled":true,"tileTimeframe":{"from":"now()-2h","to":"now()"}}},"7":{"type":"data","title":"Average CPU Utilization (%)","query":"timeseries usage=avg(system.cpu.utilization)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"autoSelectVisualization":false,"table":{"hideColumnsForLargeResults":true},"singleValue":{"mode":"custom","labelMode":"custom","isIconVisible":false,"alignment":"center","colorThresholdTarget":"value"},"unitsOverrides":[{"identifier":"usage","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1760022022827}]},"visualization":"singleValue","querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"8":{"type":"data","title":"Average System Swap Usage","query":"timeseries usage = avg(system.swap.usage)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"autoSelectVisualization":false,"table":{"hideColumnsForLargeResults":true},"unitsOverrides":[{"identifier":"interval","unitCategory":"time","baseUnit":"nanosecond","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1760022403253}],"singleValue":{"mode":"custom","labelMode":"custom"}},"visualization":"singleValue","querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"9":{"type":"data","title":"Container Memory Usage","query":"timeseries usage = avg(container_memory_usage_bytes)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"autoSelectVisualization":false,"table":{"hideColumnsForLargeResults":true}},"visualization":"singleValue","querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"0":{"x":0,"y":0,"w":12,"h":5},"1":{"x":12,"y":0,"w":12,"h":5},"2":{"x":0,"y":5,"w":12,"h":5},"3":{"x":12,"y":5,"w":12,"h":5},"4":{"x":0,"y":10,"w":24,"h":4},"6":{"x":0,"y":14,"w":6,"h":6},"7":{"x":6,"y":14,"w":6,"h":6},"8":{"x":12,"y":14,"w":6,"h":6},"9":{"x":18,"y":14,"w":6,"h":6}},"importedWithCode":false,"settings":{}}
