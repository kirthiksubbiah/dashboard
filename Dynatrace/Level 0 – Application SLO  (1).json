{"version":20,"variables":[],"tiles":{"0":{"title":"Application Error SLO","type":"slo","input":"vu9U3hXa3q0AAAABAClidWlsdGluOmludGVybmFsLnNlcnZpY2UubGV2ZWwub2JqZWN0aXZlcwAGdGVuYW50AAZ0ZW5hbnQAJDZkYzZlODE3LTc2OTYtMzcxMy04MmM5LTZjMWM5YzhiYTAwY77vVN4V2t6t","visualizationSettings":{"columns":["status","errorBudget","target","evaluationPeriod"],"options":{"showLabels":true,"colorizeBackground":false}}},"1":{"title":"Application Latency SLO","type":"slo","input":"vu9U3hXa3q0AAAABAClidWlsdGluOmludGVybmFsLnNlcnZpY2UubGV2ZWwub2JqZWN0aXZlcwAGdGVuYW50AAZ0ZW5hbnQAJDU4NjM3MGFlLTUzOGEtM2VmNi05NTQ5LWQ1OGFiZjU3NDAxZb7vVN4V2t6t","visualizationSettings":{"columns":["status","errorBudget","target","evaluationPeriod"],"options":{"showLabels":true,"colorizeBackground":false}}},"7":{"title":"Requests per Second","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(dt.service.request.count), value.A = avg(dt.service.request.count, scalar: true) }, filter: { matchesValue(entityAttr(dt.entity.service, \"entity.name\"), \"frontend\") }","visualization":"barChart","visualizationSettings":{"legend":{"ratio":6,"showLegend":false,"position":"auto"},"autoSelectVisualization":false,"chartSettings":{"seriesOverrides":[{"seriesId":["sum(dt.service.request.count)"],"override":{"color":"#b3007d"}}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"16.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"dt.service.request.count","aggregation":"sum"},"filter":"dt.entity.service.name = frontend "}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"9":{"title":"failed request","type":"data","query":"timeseries { failure_count = sum(dt.service.request.failure_count, scalar: true), failure_count.trend_line = sum(dt.service.request.failure_count) }","visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","recordField":"failure_count","colorThresholdTarget":"background","sparklineSettings":{"variant":"area","record":"failure_count.trend_line","showTicks":true},"trend":{"isVisible":true}},"autoSelectVisualization":false,"thresholds":[{"id":"0","title":"","field":"failure_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"10":{"title":"Total Request ","type":"data","query":"timeseries { count = sum(dt.service.request.count, scalar: true), count.trend_line = sum(dt.service.request.count) }","visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","recordField":"count","colorThresholdTarget":"background","sparklineSettings":{"variant":"area","record":"count.trend_line","showTicks":true},"trend":{"isVisible":true}},"autoSelectVisualization":false,"thresholds":[{"id":"0","title":"","field":"count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"11":{"title":"Error Rate","type":"data","query":"timeseries {\n  failedRequests = sum(dt.service.request.failure_count, default: 0),\n  totalRequests = sum(dt.service.request.count, default: 0)\n}\n| fieldsAdd errorRate = arrayAvg(failedRequests) / arrayAvg(totalRequests) * 100\n| fields timeframe, interval, errorRate","visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"er"},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"12":{"title":"p95 response time","type":"data","query":"timeseries { \n    p95_response_time = percentile(dt.service.request.response_time, 95, scalar: true), \n    p95_response_time_trend = percentile(dt.service.request.response_time, 95) \n}\n\n","visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none"},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"14":{"title":"Detailed Overview","type":"data","query":"timeseries totalRequests = sum(dt.service.request.count),\n           failedRequests = sum(dt.service.request.failure_count),\n           p99ResponseTime = percentile(dt.service.request.response_time, 99), // Added P99\n           p95ResponseTime = percentile(dt.service.request.response_time, 95),\n           p50ResponseTime = percentile(dt.service.request.response_time, 50), // Added P50 (Average/Median)\n    by: { dt.entity.service }\n| fieldsAdd serviceName = entityName(dt.entity.service)\n| fieldsAdd errorRate = arrayAvg(failedRequests) / arrayAvg(totalRequests) * 100\n| fields serviceName,\n         errorRate,\n         totalRequests = arraySum(totalRequests), // Changed to arraySum for total requests in time frame\n         p50ResponseTime = arrayAvg(p50ResponseTime),\n         p95ResponseTime = arrayAvg(p95ResponseTime),\n         p99ResponseTime = arrayAvg(p99ResponseTime)\n| sort errorRate desc\n| limit 20","visualization":"table","visualizationSettings":{"autoSelectVisualization":true,"table":{"hideColumnsForLargeResults":true,"columnWidths":{"[\"p95ResponseTime\"]":132}}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}}},"layouts":{"0":{"x":0,"y":0,"w":24,"h":3},"1":{"x":0,"y":3,"w":24,"h":3},"7":{"x":0,"y":10,"w":15,"h":9},"9":{"x":6,"y":6,"w":6,"h":4},"10":{"x":12,"y":6,"w":6,"h":4},"11":{"x":18,"y":6,"w":6,"h":4},"12":{"x":0,"y":6,"w":6,"h":4},"14":{"x":15,"y":10,"w":9,"h":9}},"importedWithCode":false,"settings":{}}